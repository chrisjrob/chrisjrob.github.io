---+ Blog

<<<---
%TOC%
<<<---



{image_left|icon_rss.gif|http://www.bootpolish.net/rss/home_blog.rss} {Subscribe to RSS Feed|http://www.bootpolish.net/rss/home_blog.rss}


---++ 23/02/2011: Moving to Wordpress

I've decided to move to a proper blogging platform, rather than continue to use my home grown solution.  Please update your feed reader to:

   * http://chrisjrob.wordpress.com/feed/

I did consider setting up my own Wordpress server, but rightly or wrongly I decided to save myself the effort, time will tell whether that was the right decision or not!

---++ 17/02/2011: HP Proliant DL360G5 / DL380G5 Temperature Monitoring

I don't have the HP Management suite installed on my HP Proliant servers, largely because they proved to be a huge resource hog, but I would like to be able to monitor stuff.  On PCs I am used to being able to use lm-sensors, so thought I'd give that a go.  Installing it prompted me to install ipmitool, which in turn needs openipmi.

%RAW%
<pre>
# apt-get install lm-sensors openipmi ipmitool
</pre>
%RAW%

Then I ran the standard sensors-detect command, accepting YES for all options (I was feeling quite brave):

%RAW%
<pre>
# sensors-detect
</pre>
%RAW%

This ended up writing the following into /etc/modules:

%RAW%
<pre>
# Generated by sensors-detect on Thu Feb 17 18:04:48 2011
# You must also install and load the IPMI modules
ipmi-si
# Chip drivers
# Warning: the required module ipmisensors is not currently installed
# on your system. For status of 2.6 kernel ports check
# http://www.lm-sensors.org/wiki/Devices. If driver is built
# into the kernel, or unavailable, comment out the following line.
ipmisensors

# no driver for SMSC SCH4307 Super IO Fan Sensors yet
coretemp
</pre>
%RAW%

To test this without rebooting I typed the commands in succession, but found that ipmisensors did not exist, some googling suggested the module to be "ipmi_devintf", and that indeed seemed to work:

%RAW%
<pre>
# modprobe ipmi-si
# modprobe ipmi_devintf
# modprobe coretemp
</pre>
%RAW%

So the additions to my /etc/modules now looked like this:

%RAW%
<pre>
# Generated by sensors-detect on Thu Feb 17 18:04:48 2011
# You must also install and load the IPMI modules
ipmi-si
# Chip drivers
# Warning: the required module ipmisensors is not currently installed
# on your system. For status of 2.6 kernel ports check
# http://www.lm-sensors.org/wiki/Devices. If driver is built
# into the kernel, or unavailable, comment out the following line.
# ipmisensors
ipmi_devintf

# no driver for SMSC SCH4307 Super IO Fan Sensors yet
coretemp
</pre>
%RAW%

And then I tested the commands with:

%RAW%
<pre>
# sensors
# ipmitool sensors
</pre>
%RAW%

Both of which commands brought back sensible information.  Now I just need to work out how to incorporate this into nagios with nrpe, but that can wait for another day.

---++ 07/02/2011: Etherpad on Debian Squeeze

Just installed Etherpad on our openvz server.  Having created an openvz guest for the purpose, running Debian Squeeze, installing Etherpad proved no more difficult than adding the Etherpad repository to your /etc/apt/sources.list:

%RAW%
<pre>
$ sudo su
# echo "deb http://apt.etherpad.org all ." &gt;&gt; /etc/apt/sources.list
# apt-get update
# apt-get install etherpad
</pre>
%RAW%

All the requisite dependencies were brought in.  Unfortunately the etherpad server did not start after installation, and I had to do the following commands:

%RAW%
<pre>
# sed -i.orig 's/local/share/' /etc/init.d/etherpad
</pre>
%RAW%

Then it started perfectly simply with /etc/init.d/etherpad start.

To make this happen automatically on boot:

%RAW%
<pre>
# update-rc.d etherpad defaults
</pre>
%RAW%

If you would prefer to use openjdk than sun-java (and you should), then google for "etherpad openjdk".  Sorry to say I was in too much of a hurry on this occasion.

Further reading:

   * http://etherpad.org/
   * http://sis.bthstudent.se/2011/525/how-to-install-etherpad-on-debian-lenny/

---++ 05/12/2010: Skype 64-bit

When I bought my Toshiba laptop and opted for 64-bit Debian Squeeze I made one compromise, I gave up Skype.  This was for the simple reason that it would not work on 64-bit Linux (or 64-bit anything, come to that).  Later I heard from several people that you could install the 32-bit version using the 32-bit libraries, but I was conscious that this was sub-optimal and in any case Skype should be punished for being closed source and, perhaps more to the point, for not providing a 64-bit version.

Skype is important, though, for new Linux users.  It is no good telling them to use SIP, as their friends have Skype and most people do not want to make the sacrifices that some of us feel are necessary.

Feeling a little guilty, I decided to give it a go.  I was expecting to download the 32-bit version of Skype, and the 32-bit libraries, but was surprised to see a 64-bit version for Ubuntu.  Given that Ubuntu is based on Debian, it was worth a try.

   * http://www.skype.com/intl/en-gb/get-skype/on-your-computer/linux/post-download/

I installed it with:

%RAW%
<pre>
$ sudo dpkg -i skype-ubuntu-intrepid_2.1.0.81-1_amd64.deb
</pre>
%RAW%

And, erm, it seems to work.  Well at least the test call worked perfectly.

So we seem to be able to tick the Skype 64-bit box as "job done", now how about iTunes...

---++ 05/12/2010: Home Theatre PC - Continued

A while ago I wrote:

<<<---
For some reason it is not saving a bookmark when you stop watching a recorded program in the middle, so that you have to find where you were manually. This worked fine on our old machine, so just need to find out what is wrong. I can research this when I have time.
<<<---

Well I am delighted to say that this was fixed by an option in the Playing TV settings for saving bookmarks.

---++ 15/11/2010: Why building your own PC still makes sense

Which such cheap PCs now available, does it really make sense to build your own?  I think so, and these are the reasons why:

Despite the cheap PCs, there are still some direct savings to be made, obviously Linux users can save the Microsoft licence, but there are other savings too.  For example you can re-use components from your existing PC, this might be a short-term way of you getting the PC that you want, and then replacing the components over time.

Already have a keyboard, mouse and DVD/RW?  Reuse them - it's more environmentally friendly and, if they fail later, then you can always replace them and thus stagger the cost.  Why not plan to re-use your existing hard-drive, perhaps as a second drive or as a back-up drive, it'll make it easier to transfer data.  If you're trying to save money then you could build your PC using on-board graphics and then plan to buy a decent graphics card at a later stage.

Another advantage to building your own PC is that you get to choose the compromises that are made.  The cheapest components are incredibly cheap, so for example if you were planning to keep the base unit behind the sofa, then you could specify a £15 case, instead of a £100 case.

You also get to specify things like RAM - we've all gone to upgrade PCs, only to find that both slots have already been used - now you can make sure that you buy a single 2gb RAM with the knowledge that you can buy a second when you have more money.

It is this type of flexibility which still makes building your own compelling.

It is true that it takes longer to build your own, but I find the bulk of the time taken is in choosing the components, the build itself is usually no more than an hour, and I probably waste three hours in agonising over the purchase of the components!  The only thing that is tricky is in deciding which way around the different connectors go, but generally the booklets that come with the motherboard are very helpful, and failing that the Internet is a wonderful resource.

The ability to repair the device is I find not so much down to your experience of the build, but in your confidence that all the components are standard off-the-shelf items.  If you suspect that the graphics card is shot, then, buying a replacement is easy, because you know exactly what you need.

I tend to choose the CPU, then knowing the CPU I purchase a compatible motherboard, from there it is pretty simple to choose the case to fit the motherboard, and the rest of the items should be straightforward.  PSU obviously needs to be sensitive to the case, but if you have gone for a standard ATX case, that should not be an issue.

Alternatively https://www.lambda-tek.com/ have a PC Designer to do this for you, I have not used it myself yet, but it looks impressive.

If you want a small form factor device than visit http://linitx.com, who have knowledgeable people on the end of the phone to advise you.

---++ 28/10/2010: A quick and dirty install of LibreOffice on Debian

Following the forking of OpenOffice.org into LibreOffice under the auspices of the new Document Foundation, I decided that I should take a look.

First I removed OpenOffice:

%RAW%
<pre>
$ sudo apt-get --purge remove ".*openoffice.*"
</pre>
%RAW%

Then I visited:

   * http://download.documentfoundation.org/libreoffice/testing/

Downloading:

   * LibO_3.3.0_beta2_Linux_x86_install-deb_en-US.tar.gz
   * LibO_3.3.0_beta2_Linux_x86_langpack-deb_en-GB.tar.gz

Then, having checked that the md5sums matched, I extracted both with "tar -xvvzf" and changed to the DEBS directory in each and ran:

%RAW%
<pre>
$ sudo dpkg -i *.deb
</pre>
%RAW%

All very clumsy, but this was only my work PC, which isn't mission critical, as I generally use NX client to log into my desktop on our LTSP Server.

So what are my first impressions?  Sadly these will have to wait for another day, apart from the obvious branding change, I couldn't see much different, but the good news is that it does all appear to be working.

I am not sure whether LibreOffice yet has the http://go-oo.org patches, which I believe were included by default in Debian and Ubuntu, but the fact that they are being combined into the core must be good news.  I am really hoping that LibreOffice improves quickly on OpenOffice, which still falls considerably short of Microsoft Office for power users.  In particular Macros, Pivot Tables, Conditional Formatting, and Mailmerge all need a lot of work.  Not to speak of the appalling performance, it really is a system hog.  I can't help feeling that it really needs to be re-written from scratch, but I appreciate that is unrealistic.  In the meantime I have hopes that KOffice will soon step up to the mark - KWord's mailmerge feature is a lesson in simplicity that OpenOffice/LibreOffice would do well to learn.

---++ 18/10/2010: Installing Ruby on Rails

I need a way of creating some quick and dirty web apps for internal use.  To this end, I decided to give Ruby on Rails a try.  Unfortunately it is in heavy development and the Debian packages have not kept up.  I decided to try and install from source, and, after several blind alleys, I ended up with quite a simple installation...

   * {Install Ruby on Rails3 on Debian Lenny}

---++ 14/10/2010: Home Theatre PC - Continued

A quick post regarding the issue of myth-backend having to be restarted on every boot, this was easily fixed simply by editing the upstart configuration /etc/init/myth-backend.conf and adding "and udev" to the "start on" line.  Now Myth comes up correctly first time every time!

---++ 28/09/2010: Westminster eForum - Open Source

{image_right|westminster_eforum.png|http://bootpolish.net/downloads/westminster_eforum_presentation.pdf}

Earlier this week I went up to the {Westminster eForum|http://www.westminstereforum.co.uk/} to speak at the Keynote Seminar ~"Open source software: in business, in government"~.  The Westminster eForum provides an environment for policy makers in Parliament, Whitehall and government agencies to engage with key stakeholders.  The event was sponsored by {Sirius IT|http://www.siriusit.co.uk/}, the company which advised us on our move to Linux and who now provide ongoing support for our Linux servers.  

I caught a train from Woking, arriving promptly at 61 Whitehall at 0845.  I was greeted warmly by Bash, the person organising the seminar, who showed me around and took {my slideshow presentation|http://bootpolish.net/downloads/westminster_eforum_presentation.pdf}.

{Rupert Goodwins|http://www.zdnet.co.uk/blogs/ruperts-diary/}, Editor at {ZDNet UK|http://www.zdnet.co.uk}, was Chairman of the meeting and introduced {Karsten Gerloff|http://blogs.fsfe.org/gerloff/}, President of the {Free Software Foundation Europe|http://www.fsfe.org}.  I recognised some of the themes of his speech, including the definition of Free and Open Source and the "Four Freedoms", and I was already aware of some of the developments in countries like Brazil.  That said, I was not the target audience for his speech and I am sure that it must have been a powerful message for those MPs present.

There were four more speeches before mine, starting with Alan Lord of the {Open Learning Centre|http://www.theopenlearningcentre.com/}, an Open Source Software Consulting and Services business based in Surrey.  Alan discussed the challenges of Open Source, in particularly the challenge of procurement, given that standard procurement practices struggled with the concept of free software.  Alan went on to reassure the audience regarding the risks and vulnerability of Open Source.  This is something about which I feel passionately; to my mind, if you have the source code and access to that incredible resource "The Internet" then any risks and vulnerabilities are solvable.  This is in stark contrast to proprietary software, where you are completely in the hands of the supplier.

Next up was Paul Holt, Corporate Sales Director at {Canonical|http://www.canonical.com}.  I was impressed that he avoided the temptation to do a big sell on Canonical, and this was a feature of all the speeches, no-one seemed to be overtly pushing their wares.  He did labour the point that Open Standards are what is important, much more so than Open Source, and in this he is undoubtedly right; the world would be a rosy place indeed if we all ran a combination of Open Source and proprietary systems, all of which worked together smoothly according to common open standards.

Andrew Katz from {Moorcrofts|http://www.moorcrofts.com/} went on to reassure the audience on the safety of running Open Source software as an end user.  I must confess that this was not something about which I was worried, but in the face of the usual FUD from its detractors, it was probably worthwhile to tackle this issue.  It was interesting to hear from Andrew that he often asks the Chief Financial Officer whether software contains any Free and Open Source software to be told that it doesn't, only to find that quizzing the Chief Technology Office gives the opposite answer.  Having written some simple scripts, I can't imagine how you could do so without using the miriad of Open Source libraries; it is interesting to hear that, all too often, proprietary software companies find exactly the same!

At last it was my turn.  Thanks to the magic of organisation, my slideshow was up and Rupert Goodwins had announced me.  Yikes.  I ran through {my speech|http://bootpolish.net/downloads/westminster_eforum_speech.pdf}, much as I rehearsed it, even remembering to switch between {slides|http://bootpolish.net/downloads/westminster_eforum_presentation.pdf}.  The speakers were only permitted to talk for a maximum of 5 minutes, with a yellow card being raised at 4 minutes and a red card at 5 minutes.  Nothing like a little time pressure to calm my nerves!  In the event I needn't have worried about yellow and red cards, as I completely forgot to look out for them anyway; hopefully my speech ended broadly on time!

Having been given the brief of the discussion, my first draft of the speech followed very closely to the other speakers, outlining the implementation of Open Source, the Challenges, and the Risks and Vulnerabilities.  After reading my rather poorly written offering, I decided that I should leave the other speakers to follow that pattern and to treat myself instead as a case study, not attempting to address any particular issues, but merely to run through what we had done and why.  My speech seemed fairly well received and I don't think I made too many mistakes.

I had expected that there would be questions after each speech, but in the event it seemed that questions were to be left for the end of all of our speeches.  I was somewhat astonished by the first question from Robert Onslow, in which he alluded to the fact that Open Source is not as flexible as proprietary software.  I apologise to Robert, as I did laugh; which was most rude of me, but if Open Source is anything, then it is flexible and thus I was so taken aback by such a question.  The fact is that Open Source is most often written as small components - "do one thing and do it well" - and combining these components together is what gives Open Source its incredible flexibility.  And the fact, of course, that you have access to the source code and have the option of paying a developer to make changes to it.

I also laboured my hobby horse regarding the benefit of having access to the source code.  I hear so many people, even Open Source users, saying that they don't think that having the source code is really that big a benefit.  I feel passionately that even non-developers can benefit from Open Source, partly through the wider community having access to the code, but also directly, by viewing the code to debug a problem, or even fix a simple typological bug.  The best example that I have was when KDE changed one of their environment paths, which broke kiosk-tool, I was delighted to be able to track down that error and fit it.  Similarly getting KAddressBook to work with LDAP resources needed a very simple code change.

There were a number of other questions, but none in which I played any key part.

After the session was a coffee break, and I got talking to Mark Taylor of Sirius and Rupert Goodwin and David Meyer from ZDNet UK.  David Meyer showed me his netbook running {Jolicloud|http://www.jolicloud.com}, which seemed to be a very professional and user friendly implementation of Linux, in which Linux, Windows and Web software are offered seamlessly from the software centre.  Very impressive, and I'll certainly be looking at that soon.

I regret that I did not stay for the remainder of the day; whilst it sounded very interesting, the majority was related to the public sector, which is not directly relevant to me.

Thank you to Bash at Westminster eForums and Mark Taylor of Sirius.  Oh, and Rupert Goodwins, for allowing me to share his taxi to the station when the heavens opened!

---++ 28/09/2010: QEMU-KVM Black Screen

I upgraded one of our servers yesterday, including an upgrade from the Debian Stable kvm72 package, to the Debian Backports qemu-kvm version 0.12.4, whereon I could no longer start our Windows Server 2003 virtual machine.  As soon as the machine started, it locked up completely with just a black screen, and had to be terminated with a kill -9 signal.  After a considerable time spent googling without any success, I decided to upgrade the Kernel from 2.6.26 to the backports 2.6.32 and normal operation was restored.  I mention this only in the hope that the next person who googles qemu-kvm black screen might be saved a considerable time searching for the solution!

---++ 21/09/2010: Home Theatre PC - Continued

I've been asked recently for an update on how my HTPC is performing.  Well the good news is that we are now using it as our main system, and pretty much everything is working perfectly, including:

   * Live TV - Pause Rewind etc
   * Programme Guide
   * Schedule Recordings
   * MythVideo (for ripped DVDs)
   * MythWeb (personal webpage for controlling Myth and viewing programme guide)

The best news is that Audio is now working over HDMI; although to be honest, I don't believe I ever fixed this, so I suspect I just hadn't tested it properly.  All I did was select the Audio over HDMI setting in KDE Control Centre and it just worked.

So what is left to fix?

   * System does not shutdown automatically - this is normal behaviour for MythTV, but I prefer to have it shutdown when not in use.  This is a neat feature actually, as it will literally completely shutdown with a timer set in the bios to come on for the next schedule.  Hopefully I can sort this out soon.
   * MythTV Backend needs to be restarted every time the machine is powered up - this is a known issue and may even have been sorted; having been without Internet for the past three weeks, I have no idea where we are.  Basically on first boot we just type $ sudo service mythtv-backend restart.  Obviously if there is no fix, it would be simple enough to add to the start-up process.
   * My card has dual tuners, so can record one thing and watch another, or record two things.  I have now read that some channels are on the same "mux" and that you can therefore record multiple programs on a single card.  I need to research this further, but sounds exciting.
   * For some reason it is not saving a bookmark when you stop watching a recorded program in the middle, so that you have to find where you were manually.  This worked fine on our old machine, so just need to find out what is wrong.  I can research this when I have time.
   * The case fans are a little noisier than they ought to be, so really need replacing for silent alternatives.

And, not MythTV related, but I am still struggling with KDE4, Akonadi and our Contacts in Kontact.  I suspect this may be related to the use of MySQL for both MythTV and Akonadi.  In the meantime my wife is using Gmail, but obviously would prefer to have Kontact back.

---++ 18/09/2010: Desktop Wallpaper

When I launched our first LTSP server, I was very keen to make the system as pleasurable for the users as possible; to this end, I left users able to customise their desktop pretty much how they liked.  I decided that this free-for-all had gone too far, when I saw customers sitting in front of one user's computer, sporting a desktop wallpaper of his baby son.  At the time I just set a system default of a fairly neutral blue / dark blue radial gradient, and put an item on my to-do list to create a desktop wallpaper.

Those who read my earlier post regarding {KDE Wallpaper|#26/06/2010: kde wallpaper} may have seen examples, and basically I created a red background with company logo and a few lighting affects, making suitable wallpapers for most of the common screen sizes.  It was when I went to implement these wallpapers that I realised that I had a problem - KDE only allows you to force one single wallpaper to all users, regardless of screen size.  I could allow the users to set their own wallpaper, from a select list, but it would be impossible to restrict them only to that list.  And what if they hop from one computer to another - the screen size will be wrong again.  No, I needed a way of changing the wallpaper at login to the correct wallpaper for their screensize, and that meant a perl script running at login.  The task could be broken into three parts:

   # Determine screen size
   # Choose best wallpaper
   # Set wallpaper

To determine the screen size, I used a small Perl Tk routine:

%RAW%
<pre>
sub get_screen_size {
        use Tk;
        my $mw=tkinit;
        $mw->withdraw;
        return($mw->screenwidth, $mw->screenheight, $mw->screendepth);
}
</pre>
%RAW%

To select the best wallpaper, I found this far more complicated that I would have liked - the issue is that NX users have screen sizes that are non-standard, so I couldn't rely on exact matches.  In any case, if I relied on perfect matches I would have been creating new wallpapers for each and every obscure monitor resolution.  The best approach I found was to score each wallpaper based on aspect, width and height, calculating the percentage error for each compared to the users screen size, summing the errors and picking the wallpaper with the lowest error.  Logically aspect would be far more important that the other errors, so I trebled the aspect error to make that the dominant criteria.

Lastly, I set the wallpaper using a simple dcop command:

%RAW%
<pre>
`dcop kdesktop KBackgroundIface setWallpaper "$newwallpaper" 6`;
</pre>
%RAW%

After testing it thoroughly, I inserted a shortcut to the script in all users' Autostart directories last night.

I arrived this morning to the comment ~"it's a bit bright any chance we could tone it down a bit"~.

I was very polite.

---++ 04/08/2010: Home Theatre PC - Continued

Oh dear, it seems I failed to update my blog after the last work I did on my HTPC.  Well the good news is that the programme guide is now working, it was a bit of a pain, in that you have to use the command line to create a channel listing that is then read my the guide updating process.  But given that you only have to do this when your channel line-up changes, this isn't a big deal.  I have updated my notes on the following page:

   * http://bootpolish.net/hauppaugehvr2200

---++ 04/08/2010: Microsoft XPS under Linux

A member of staff asked how he could open a personal XPS file, created in Windows 7.  Now XPS is the Microsoft replacement for PDF and it is apparently installed as a printer by default in Vista and Windows 7, which means increasingly people are going to start sending XPS files whether we like it or not.  Fortunately it seems XPS is supported in Okular under KDE4 (which we don't have yet), and can also be readily converted to PDF using the Ghostscript "gxps" tool.  This has to be built from source, but proved relatively simple.  As our users do not have access to the command line, I also had to also create a Konqueror service menu, to enable right-click Action "Convert XPS to PDF".

I am pleased to say it all works beautifully, and I have typed up my instructions for Debian Lenny here:

   * http://bootpolish.net/home_howto_convertxpstopdf

---++ 29/06/2010: Home Theatre PC - Continued...

Finally spent a few hours on my HTPC.  Previously the Hauppauge HVR-2200 was working fine in Kaffeine, but was not working in MythTV.  I finally resolved this issue, and typed up some details here:

   * http://bootpolish.net/hauppaugehvr2200

The tuner card is now working under MythTV to "Watch TV"; however the programme guide is still not updating correctly over EIT.  In theory this should happen automatically after a full scan, but for some reason this seems not to be working.  It may be that this is because I have simply not left the backend to idle for long enough for an EIT scan to be initiated.

More news when I have it.

---++ 26/06/2010: KDE Wallpaper

In an effort to make my desktop a little more elegant, I have designed some new wallpapers for use with KDE on Debian.  They may be a little too bling for some of you, but I'm quite pleased with them.  All created using free software, in the form of The Gimp.  In the spirit of free software, I have uploaded to http://kde-look.org/ under a Creative Commons licence.

   * {KDE Look|http://kde-look.org/usermanager/search.php?username=chrisjrob&action=contents}

---++ 16/06/2010: Ubuntu Lucid Lynx

{image_right|gallery/ubuntu1004_350x350.png}

As a died-in-the-wool KDE user, I'm just coming to terms with KDE4 and mostly loving it.  A few niggles remain, but in the main it is very good indeed.  But I suppose I would hesitate to recommend it to a new user.  Having seen and heard much praise for the latest Ubuntu 10.04 Lucid Lynx, which uses the Gnome desktop, I thought I'd give it a go.

I started by downloading the ISO image from the Ubuntu website and followed my instructions to Make A Linux USB Key, basically by formatting in super-floppy format (which I find to be the most consistently successful method) and using Unetbootin to write the ISO to the USB Key.  Using a USB key is more convenient, more portable and more environmentally friendly than burning a CD/DVD.

I took a spare laptop, an HP NX7300, and inserted the USB Key.  I entered the BIOS settings and changed the boot order to boot first from USB.   I then booted up the laptop.

HP are not know for their Linux compatibility, but Ubuntu booted up with an attractive boot splash, before logging straight into the very attractively themed Gnome desktop.  The new colour scheme is purple, which is very attractive, although brown still exists in the OpenOffice splash screen to remind us of what used to be.

As expected, network manager failed to activate, and I knew from past experience that I would need to load the proprietary broadcom driver.  Continuing to play it dumb, I waited to see if I would get any help from Ubuntu.  After about half a minute, the restricted drivers' manager appeared on the top panel, although there was no guidance as to why it had appeared, nor what to do with it.  I clicked on it and then clicked on the option to install the Broadcom STR driver and clicked activate.

After a minute or so it had loaded the Broadcom driver from the USB stick and I noticed that the wireless light had illuminated on the laptop.  Promising!  Unfortunately it then suggested I reboot to load the new driver; which obviously I can't do, as I am running off a USB stick and would effectively start from scratch again if I rebooted.  I decided to just wait and, sure enough, after a while when I clicked on the wireless symbol on the top panel it offered my local wireless access point.  I selected it, and entered the encryption key, and I was connected.

At this point I had a completely usable desktop environment, including a full office suite (OpenOffice.org), a working web browser (Firefox) and everything else you could possibly wish in a modern desktop environment, all working off a USB stick.  I still find that just amazing.

I must admit that I am surprised by Gnome, it looks gorgeous, it feels very integrated, as if it had been designed as a whole, rather than being a collection of applications brought together.  No it's not my much loved Debian, and no it's not my much loved KDE, but it does feel easy to use, very uniform and just... well "right".

I was particularly impressed by Rhythmbox, which had the built in music store, podcast reader, and local collection.  This does look like an application which would reassure an erstwhile iTunes user.  It's probably not as good as amaroK, but having pushed amaroK on my mother and regretted it mightily, I think Rhythmbox is a good choice, being infinitely more user friendly.

I even set-up my Gmail account in Evolution, simply by clicking on the mail icon in the top panel and following the wizard to set up my Gmail account.  I played completely dumb, it provided all the necessary server information and network settings for me, and all I needed to know was my Gmail address and password.  That is incredible, anyone could set up their email if it's that easy.

Having tested it, just to decide whether to recommend it to friends and family, I find myself sorely tempted to install it on my own laptop.

   * http://ubuntu.com/

---++ 14/06/2010: Nochex on-line credit card payment

I recently made a payment to an online supplier, via `Nochex`.  The supplier failed to come up with the goods and then failed to respond to my emails.  I submitted a support ticket to Nochex, and they promised to respond with 48 hours, but failed to do so.

After conducting further research, it seems that Nochex itself does not have the best reputation =xoooo= according to Review Centre:

   * http://www.reviewcentre.com/reviews115027.html

Further to this, I contacted them again, and once again they have failed to respond within 24 hours.

---++ 10/06/2010: Google relent

Apparently it was a 24 hour experiment, but Google saw sense and ended it 10 hours early, after the twitterverse went beserk.

   * http://techcrunch.com/2010/06/10/google-kills-its-homepage-background-image-experiment-early/

Now those that want pictures of kittens as their background can and the rest of us can keep our plain simple and fast search page.  After spending the day using http://ixquick.com, I'll be glad to return to google.com, which is still the best search engine that I have ever used.

When are we going to see a decent open source search engine, maybe distributed in some way amongst its user base?

---++ 10/06/2010: Google you plonkers

Why do we use Google?  Because it is lightweight and fast.  What could Google do to make themselves less appealing?  Well, I suppose they could add a desktop background that adds to the clutter of the page and requires everyone to download a pointless image, but they'd never do something that stupid, would they?

And they have.

I can only imagine Google are wanting to reduce their monopoly and increase competition in the search engine market, and perhaps that is to be applauded.

Okay, so what can I use instead of Google?  I think I'll try Bing, supposedly their privacy policy is better as well.

---++ 01/06/2010: Home Theatre PC - Progress Report

Spent some time setting up my wife's email on the new HTPC, using Kmail and disconnected IMAP.  Installed Google Chrome.  Added a KDE Plasmoid on the desktop for Facebook and Twitter, which hopefully my wife will like.  Other than that I have had no time to spend on the completing the MythTV installation.  More soon hopefully.

---++ 22/05/2010: Home Theatre PC - Configuring Hauppauge HVR2200 TV Card

Wow, this really is a second post in one day!

Following on from the DPI issue, I decided to throw science to the wind and just set DPI to 96 x 96 rather than 50 x 50, and the login screen looks better and the font size is improved (slightly larger).

Next, I decided that I ought to check that the TV Tuner was properly detected, but whilst it was detected correctly, it was unsure of the card number, and was unable to download the firmware.  This is not entirely surprising as this TV card is fairly recent and (as usual) the Hauppauge do not themselves support Linux.

The following link provided me with the basis for fixing this issue:

   * http://ubuntuforums.org/showpost.php?p=9219191&postcount=212

But in the event I only needed the following:

%RAW%
<pre>
$ cd ~
$ wget http://www.steventoth.net/linux/hvr22xx/22xxdrv_27086.zip
$ wget http://www.steventoth.net/linux/hvr22xx/HVR-12x0-14x0-17x0_1_25_25271_WHQL.zip
$ wget http://www.steventoth.net/linux/hvr22xx/extract.sh
$ sh extract.sh
$ sudo su
# cp *.fw /lib/firmware/`uname -r`/
# echo "options saa7164 card=4" >> /etc/modprobe.d/options.conf
# exit
$
</pre>
%RAW%

Then reboot.  Hopefully tomorrow I will have some time to continue setting up the TV card under MythTV; but for now the aerial input is required by our old MythTV system in order to record Doctor Who :).

---++ 22/05/2010: Home Theatre PC - Setting DPI in Xorg

A second post on the same day, has hell frozen over?  No, actually I put the wrong date on yesterday's post.  Oops.

The DPI problem was fixed very easily by following the instructions on the link I provided in my previous post, I calculated that my Sony Bravia KDL 32S3000 had dimensions of 700mm x 390mm and a native resolution of 1366x768.

%RAW%
<pre>
$ xdpyinfo | grep dimensions
$ xdpyinfo | grep "dots per inch"
</pre>
%RAW%

Converting the millimetres to inches and dividing the resolution by the inches dimensions gave me DPI of 50x50, surprisingly low.  I believe this is because the KDL 32S3000 is not a full HD TV but only 1080i.  Setting this in /etc/X11/xorg.conf cured the problem with the KDM login manager.

%RAW%
<pre>
Section "Monitor"
    Identifier "Monitor0"
    Option   "DPI" "50 x 50"
EndSection
</pre>
%RAW%

---++ 22/05/2010: Home Theatre PC - Test Boot II

Changing the connectors around corrected the problem, I had assumed that the arrows on the connectors indicated +ve, when clearly they must indicate -ve, fixed and the LEDs all work fine.

Installed the Nvidia binary driver, which worked fine, except that, as I've found on a few installs recently the KDE screen DPI defaults to something absurd, resulting in unreadably small fonts.  Easily fixed in KDE, via System Settings (as long as you know your way around!), but haven't yet found out how to do it in KDM (the login manager).  This is not a huge problem, as it is easy enough to type in your password, and anyway on a home theatre PC you probably want it automatically logging in.  That said, I am determined to fix this problem when I have some time.  Interestingly this was also the case on our existing mythbox, which has completely different hardware, the common thread being the nvidia driver.  I suspect the issue may be related to the KDE virtual desktop, and the nvidia driver calculating this back to a reasonable DPI.  The following link may help, I will give this a go when I have some time:

   * http://wiki.archlinux.org/index.php/Xorg#Display_Size_and_DPI

Anyway, the good news is that, with the binary driver installed, the standard KDE compositing is working beautifully.

As to sound, this is still not working via HDMI, but is working fine through the sound outputs.  This seems to be a widespread issue, which I think has been resolved, so it's just a matter of waiting for the fix to filter downstream.  In the meantime, I will continue to work as we do on our existing mythbox, with a 2.1 speaker system plugged into the HTPC.

---++ 13/05/2010: Home Theatre PC - Test Boot

At last the 24-pin ATX PSU extension cable has arrived - enabling me to perform a test boot.

It switched on okay, but the front LEDs were not working, neither the power nor the disk LED; so it seems that they are not wired up correctly, although I really can't see how I could have got it wrong.

It booted into a Kubuntu 10.04 USB stick without any problems.  The network card was detected correctly and I was able to browse the Internet without any configuration.  The Nvidia card was detected correctly, using the open source driver, obviously I will install the Nvidia binary driver.  The only strangeness was the lack of sound via the HDMI cable, but looking in the BIOS afterward I noticed an option "Audio via HDMI" which I have enabled, it was set to auto, but maybe that'll make a difference.

It is difficult to say how quiet it is at present, as any sound it was making was being drowned out by our noisy old mythbox.

I can't wait to have a decent chunk of time to start the installation.

---++ 09/05/2010: Home Theatre PC - The Build

Well the build went quite well. I encountered two problems:

The Intel Atom A330 ION motherboard had two prongs for the Power LED, but the Lian-Li PC-C37 case had a cable for a three prong connector.  The cable on has two wires, so I got around this issue by levering up the plastic catch holding one of the cables and moved it into the middle connector, which then fitted the motherboard fine, just with the now vacant connector overlapping the connectors.

The second problem that I encountered was the question of which way up the PSU should go.  Normally an ATX PSU sits at the top of a tower case with the fan downwards, pulling the hot air out of the case.  In a desktop (horizontal) PC this is never going to be as effective.  With my case, there is no space below the PSU, so that the fan would be drawing air from nowhere and exhausting it out the back of the PC.  Not only will this not cool the case, it will also burn the PSU in a very short time.  By mounting the PSU upside down, the cool air should be drawn in from outside, via the top vent, cooling the PSU and exhausting out the back.  This does mean that the PSU is not helping to cool the case, but at least it is not adding heat into the case.

Unfortunately, mounting the PSU upside down has meant that the power cables are furthest from the motherboard, with the result that the main 24-pin lead does not reach.  It seems that extension leads are available, and I'm to have a go at getting one from Maplin in Guildford today.

This lack of PSU fan cooling for the case does mean that we are very reliant on the two case fans.  The case does allow for several more case fans if necessary, although the Intel Atom processor shouldn't be generating too much heat.

Hopefully the following should be a slideshow of the build.  I'm sorry to say that I didn't take many interim photos, so this slideshow is rather a before/after:

%RAW%
<embed type="application/x-shockwave-flash" src="http://picasaweb.google.com/s/c/bin/slideshow.swf" width="800" height="533" flashvars="host=picasaweb.google.com&captions=1&hl=en_US&feat=flashalbum&interval=8&RGB=0x000000&feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Fchrisjrob%2Falbumid%2F5469200580828386401%3Falt%3Drss%26kind%3Dphoto%26hl%3Den_US" pluginspage="http://www.macromedia.com/go/getflashplayer"></embed>
%RAW%

These days building PCs is not a black art - the connectors are all labelled - and the motherboards generally have a helpful manual detailing exactly what goes where.  Building a PC is primarily a challenge from the perspective of making sure that you buy compatible components and that you design in sufficient cooling.

With luck my next post will be the power-up and install of Kubuntu 10.04 with MythTV!

