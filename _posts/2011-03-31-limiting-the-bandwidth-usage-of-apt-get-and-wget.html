---
layout: post
title: Limiting the bandwidth usage of apt-get and wget
date: 2011-03-31 10:46:38.000000000 +01:00
type: post
published: true
status: publish
categories:
- debian
- linux
- technology
tags:
- apt
- bandwidth
- trickle
- wget
meta:
  _edit_last: '20992958'
  _wpas_done_twitter: '1'
  tagazine-media: a:7:{s:7:"primary";s:0:"";s:6:"images";a:0:{}s:6:"videos";a:0:{}s:11:"image_count";s:1:"0";s:6:"author";s:8:"20992958";s:7:"blog_id";s:8:"20408733";s:9:"mod_stamp";s:19:"2011-04-05
    12:46:43";}
  reddit: a:2:{s:5:"count";s:1:"0";s:4:"time";s:10:"1307958104";}
  _wpas_skip_687483: '1'
author:
  login: chrisjrob
  email: chrisjrob@gmail.com
  display_name: chrisjrob
  first_name: ''
  last_name: ''
---
<p>I have to be careful about the bandwidth I use at work; so I limit the bandwidth of apt-get and wget.</p>
<h2>apt-get</h2>
<p>For apt-get you just need to create a new file <!--more--><code>/etc/apt/apt.conf.d/76download</code> with the following contents:<br />
<code><br />
$ sudo vim /etc/apt/apt.conf.d/76download<br />
Acquire<br />
{<br />
&nbsp;&nbsp;Queue-mode "access";<br />
&nbsp;&nbsp;http<br />
&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;Dl-Limit "128";<br />
&nbsp;&nbsp;};<br />
};<br />
$<br />
</code></p>
<p>The above will limit your bandwidth to 128K, adjust this figure to suit your network.</p>
<p>Alternatively, if you don't want this change to be set permanently, then you can specify it in the command line:</p>
<p><code><br />
$ sudo apt-get -o Acquire::http::Dl-Limit=128 upgrade<br />
</code></p>
<h2>wget</h2>
<p>To rate-limit wget, simply edit <code>/etc/wgetrc</code> or your personal configuration at <code>~/.wgetrc</code> and add or edit the following line:<br />
<code><br />
limit-rate=128k<br />
</code></p>
<h2>other</h2>
<p>Other packages can be configured in different ways, but you could install <code>trickle</code> and then read its man page to determine how to use it.  For example (from the man page):<br />
<code><br />
$ trickle -u 128 -d 128 ncftp<br />
</code></p>
